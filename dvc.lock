schema: '2.0'
stages:
  pull_data:
    cmd: python src/pull_data.py data/db_pull_calibrated.parquet data/db_pull_uncalibrated.parquet
    deps:
    - path: src/pull_data.py
      md5: 47d3bcadedf1f9db0bca7597375c6e22
      size: 1432
    - path: src/utils/dbconnector.py
      md5: 7d87ce109d5d15d6ae8b4c4367bc2271
      size: 1547
    params:
      params.yaml:
        database.questdb:
          table_name: prod
          host: docker.caracal-lime.ts.net
          port: 9000
    outs:
    - path: data/db_pull_calibrated.parquet
      md5: d30e256f1a00d82ece6f07422261055a
      size: 135521717
    - path: data/db_pull_uncalibrated.parquet
      md5: b63f1578c5b0cc51b5aafcfb09a00458
      size: 128520845
  resample:
    cmd: python src/resample.py data/db_pull_calibrated.parquet 50 linear
    deps:
    - path: data/db_pull_calibrated.parquet
      md5: d30e256f1a00d82ece6f07422261055a
      size: 135521717
    - path: src/resample.py
      md5: d7aa9a33b8d48635e9ae6a508e28b2c9
      size: 820
    outs:
    - path: data/resample.parquet
      md5: 0b13bd6bc234b1dffaaf498a3ddfa89b
      size: 88310491
  segmentate:
    cmd: python src/segmentate.py data/resample.parquet 5 0
    deps:
    - path: data/resample.parquet
      md5: 0b13bd6bc234b1dffaaf498a3ddfa89b
      size: 88310491
    - path: src/segmentate.py
      md5: e1abf0000b04bea2cdcb6685ff62fc3a
      size: 1959
    outs:
    - path: data/segmentate.dill
      md5: dc9d2fd82e863c76a5ccb69a4ba49be4
      size: 124896710
  fft:
    cmd: python src/fft.py data/segmentate.dill
    deps:
    - path: data/segmentate.dill
      md5: dc9d2fd82e863c76a5ccb69a4ba49be4
      size: 124896710
    - path: src/fft.py
      md5: f8e4565cc07304f3b0ceab94f59e799b
      size: 1544
    outs:
    - path: data/fft.dill
      md5: 06e7b37028e6bf9acb9776332ab5a61c
      size: 48578939
  bandpass:
    cmd: python src/filter_band.py data/segmentate.dill 0.001 100 3
    deps:
    - path: data/segmentate.dill
      md5: dc9d2fd82e863c76a5ccb69a4ba49be4
      size: 124896710
    - path: src/filter_band.py
      md5: 11eaf032d56cda287c39245761c91c78
      size: 4137
    outs:
    - path: data/bandpass.dill
      md5: 517a4b10f54aa6912ec82feac9e2aaf6
      size: 205869032
  filter_lowpass:
    cmd: python src/filter_lowpass.py data/segmentate.dill 100 3
    deps:
    - path: data/segmentate.dill
      md5: dc9d2fd82e863c76a5ccb69a4ba49be4
      size: 124896710
    - path: src/filter_lowpass.py
      md5: 8e298c599a7d8146eb95cf10daa97047
      size: 696
    - path: src/utils/filters.py
      md5: cee04b43440ed8b1d9db00f9f7dbb5c5
      size: 1971
    outs:
    - path: data/lowpass.dill
      md5: 5d5b0f5bba8d2a7b7970498cc95fd0e0
      size: 205869032
  filter_bandpass:
    cmd: python src/filter_bandpass.py data/segmentate.dill 0.001 100 3
    deps:
    - path: data/segmentate.dill
      md5: dc9d2fd82e863c76a5ccb69a4ba49be4
      size: 124896710
    - path: src/filter_bandpass.py
      md5: 24ac6ae06a3d5a6353101a576c082066
      size: 773
    - path: src/utils/filters.py
      md5: cee04b43440ed8b1d9db00f9f7dbb5c5
      size: 1971
    outs:
    - path: data/bandpass.dill
      md5: 517a4b10f54aa6912ec82feac9e2aaf6
      size: 205869032
  filter_highpass:
    cmd: python src/filter_highpass.py data/segmentate.dill 0.001 3
    deps:
    - path: data/segmentate.dill
      md5: dc9d2fd82e863c76a5ccb69a4ba49be4
      size: 124896710
    - path: src/filter_highpass.py
      md5: b91ffd0970365fb8c583425c69b991fc
      size: 695
    - path: src/utils/filters.py
      md5: cee04b43440ed8b1d9db00f9f7dbb5c5
      size: 1971
    outs:
    - path: data/highpass.dill
      md5: 5eb92861db7d002abac6e4bdbeec2c81
      size: 205869032
