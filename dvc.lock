schema: '2.0'
stages:
  pull_data:
    cmd: python src/pull_data.py data/db_pull_calibrated.parquet data/db_pull_uncalibrated.parquet
    deps:
    - path: src/pull_data.py
      md5: 47d3bcadedf1f9db0bca7597375c6e22
      size: 1432
    - path: src/utils/dbconnector.py
      md5: 7d87ce109d5d15d6ae8b4c4367bc2271
      size: 1547
    params:
      params.yaml:
        database.questdb:
          table_name: prod
          host: docker.caracal-lime.ts.net
          port: 9000
    outs:
    - path: data/db_pull_calibrated.parquet
      md5: d30e256f1a00d82ece6f07422261055a
      size: 135521717
    - path: data/db_pull_uncalibrated.parquet
      md5: b63f1578c5b0cc51b5aafcfb09a00458
      size: 128520845
  resample:
    cmd: python src/resample.py data/db_pull_calibrated.parquet 50 linear
    deps:
    - path: data/db_pull_calibrated.parquet
      md5: d30e256f1a00d82ece6f07422261055a
      size: 135521717
    - path: src/resample.py
      md5: 6c4343a6391615bd4fd8bf43f83d1a31
      size: 870
    outs:
    - path: data/resample.parquet
      md5: 1b14d74f9061b9af0b8075897b1a3828
      size: 85490052
